<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wallet Platform</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .hidden { display: none; }
    input, select, button { margin: 5px; padding: 6px; }
    #confirmation-section { border: 1px solid #ccc; padding: 10px; margin-top: 10px; }
    canvas { max-width: 400px; margin: 10px; }
  </style>
</head>
<body>

  <h2>Wallet Platform</h2>

  <div id="start-section">
    <button onclick="showSection('login-section')">Login</button>
    <button onclick="showSection('register-section')">Register</button>
  </div>

  <div id="register-section" class="hidden">
    <h3>Register</h3>
    <input id="reg-username" placeholder="Username" />
    <input id="reg-password" type="password" placeholder="Password" />
    <input id="reg-email" placeholder="Email" />
    <input id="reg-pin" placeholder="PIN (4 digits)" />
    <select id="currency">
      <option value="KES">KES</option>
      <option value="USD">USD</option>
      <option value="EUR">EUR</option>
    </select><br>
    <button onclick="register()">Register</button>
    <button onclick="showSection('start-section')">Back</button>
  </div>

  <div id="login-section" class="hidden">
    <h3>Login</h3>
    <input id="login-username" placeholder="Username" />
    <input id="login-password" type="password" placeholder="Password" />
    <button onclick="login()">Login</button>
    <button onclick="showSection('start-section')">Back</button>
  </div>

  <div id="dashboard-section" class="hidden">
    <h3>Dashboard</h3>
    <p>Welcome, <span id="user-name"></span></p>
    <p>Wallet: <span id="wallet-number"></span></p>
    <p>Balance: <span id="wallet-balance"></span></p>

    <div id="admin-panel" class="hidden">
      <p><strong>Admin Panel</strong></p>
      <p>Total Charges Collected:</p>
      <ul id="charges-list"></ul>
      <p>Registered Users: <span id="user-count"></span></p>
      <button onclick="showSection('subadmin-section')">Manage Sub-Admins</button>
      <button onclick="showSection('transfer-charges-section')">Transfer Charges to Trading Wallet</button>
      <div>
        <canvas id="transactionsChart"></canvas>
        <canvas id="balancesChart"></canvas>
      </div>
    </div>

    <h4>Transfer Funds</h4>
    <input id="recipient" placeholder="Recipient Wallet No" />
    <input id="amount" placeholder="Amount" type="number" />
    <input id="auth-pin" placeholder="PIN" />
    <button onclick="prepareTransfer()">Next</button>

    <div id="confirmation-section" class="hidden">
      <p>Recipient: <span id="confirm-recipient"></span></p>
      <p>Amount: <span id="confirm-amount"></span></p>
      <button onclick="confirmTransfer()">Confirm</button>
      <button onclick="cancelTransfer()">Edit</button>
    </div>

    <h4>Transaction History</h4>
    <ul id="history"></ul>
    <button onclick="logout()">Logout</button>
  </div>

  <div id="subadmin-section" class="hidden">
    <h3>Manage Sub-Admins</h3>
    <input id="subadmin-username" placeholder="Username" />
    <input id="subadmin-password" type="password" placeholder="Password" />
    <input id="subadmin-email" placeholder="Email" />
    <input id="subadmin-pin" placeholder="PIN (4 digits)" />
    <select id="subadmin-permissions" multiple>
      <option value="logs">Logs</option>
      <option value="graphs">Graphs</option>
      <option value="user-data">User Data</option>
    </select><br>
    <button onclick="createSubAdmin()">Create Sub-Admin</button>
    <button onclick="showSection('dashboard-section')">Back</button>
  </div>

  <div id="transfer-charges-section" class="hidden">
    <h3>Transfer Charges to Trading Wallet</h3>
    <select id="transfer-currency">
      <option value="KES">KES</option>
      <option value="USD">USD</option>
      <option value="EUR">EUR</option>
    </select>
    <input id="transfer-amount" placeholder="Amount" type="number" />
    <button onclick="transferCharges()">Transfer</button>
    <button onclick="showSection('dashboard-section')">Back</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // JavaScript code goes here
    // Ensure all functions like showSection, register, login, etc., are defined here
  </script>
</body>
</html>
