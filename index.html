<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wallet Platform</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .hidden { display: none; }
    input, select, button { margin: 5px; padding: 6px; width: 250px; }
  </style>
</head>
<body>

  <h2>Multi-Currency Wallet Platform</h2>

  <div id="start-section">
    <button onclick="showSection('login-section')">Login</button>
    <button onclick="showSection('register-section')">Register</button>
  </div>

  <div id="register-section" class="hidden">
    <h3>Register</h3>
    <input id="reg-username" placeholder="Username" /><br>
    <input id="reg-password" type="password" placeholder="Password" /><br>
    <input id="reg-email" placeholder="Email" /><br>
    <input id="reg-pin" placeholder="PIN (4 digits)" /><br>
    <select id="reg-country"></select><br>
    <select id="reg-currency"></select><br>
    <button onclick="register()">Register</button>
    <button onclick="showSection('start-section')">Back</button>
  </div>

  <div id="login-section" class="hidden">
    <h3>Login</h3>
    <input id="login-username" placeholder="Username" /><br>
    <input id="login-password" type="password" placeholder="Password" /><br>
    <button onclick="login()">Login</button>
    <button onclick="showSection('start-section')">Back</button>
  </div>

  <div id="dashboard-section" class="hidden">
    <h3>Dashboard</h3>
    <p>Welcome, <span id="user-name"></span></p>
    <p>Wallet Balance: <span id="wallet-balance"></span></p>
    <button onclick="logout()">Logout</button>
  </div>

  <script>
    const countries = ["Kenya", "Nigeria", "USA", "UK", "Germany", "Japan", "Brazil", "South Africa", "India", "Canada", "Australia", "Russia", "China", "France", "Italy"];
    const currencies = ["USD", "EUR", "KES", "NGN", "BTC", "ETH", "BNB", "USDT", "XRP", "SOL", "LTC", "DOGE"];

    const users = {};

    function populateDropdowns() {
      const countrySelect = document.getElementById('reg-country');
      const currencySelect = document.getElementById('reg-currency');
      countries.forEach(c => {
        const option = document.createElement('option');
        option.value = c;
        option.textContent = c;
        countrySelect.appendChild(option);
      });
      currencies.forEach(c => {
        const option = document.createElement('option');
        option.value = c;
        option.textContent = c;
        currencySelect.appendChild(option);
      });
    }

    function showSection(id) {
      document.querySelectorAll('div').forEach(div => {
        if (div.id.endsWith('-section')) div.classList.add('hidden');
      });
      document.getElementById(id).classList.remove('hidden');
    }

    function register() {
      const username = document.getElementById('reg-username').value.trim();
      const password = document.getElementById('reg-password').value.trim();
      const email = document.getElementById('reg-email').value.trim();
      const pin = document.getElementById('reg-pin').value.trim();
      const country = document.getElementById('reg-country').value;
      const currency = document.getElementById('reg-currency').value;

      if (!username || !password || !email || !pin) {
        alert("All fields are required.");
        return;
      }

      if (users[username]) {
        alert("Username already exists.");
        return;
      }

      users[username] = {
        password,
        email,
        pin,
        country,
        currency,
        balance: 0
      };

      alert("Registration successful!");
      showSection("login-section");
    }

    function login() {
      const username = document.getElementById('login-username').value.trim();
      const password = document.getElementById('login-password').value.trim();
      const user = users[username];

      if (!user || user.password !== password) {
        alert("Invalid credentials");
        return;
      }

      document.getElementById("user-name").textContent = username;
      document.getElementById("wallet-balance").textContent = `${user.balance} ${user.currency}`;
      showSection("dashboard-section");
    }

    function logout() {
      showSection("start-section");
    }

    window.onload = populateDropdowns;
  </script>
</body>
</html>
