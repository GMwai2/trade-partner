// Example enhancements (paste in your script.js or main JS file)

// Fix case on usernames
function formatUsername(name) {
  return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();
}

// Session persistence
window.addEventListener("load", () => {
  const savedUser = sessionStorage.getItem("user");
  if (savedUser && users[savedUser]) {
    currentUser = savedUser;
    showDashboard();
  }
});

function login() {
  const uname = document.getElementById("username").value.trim();
  const pwd = document.getElementById("password").value;
  if (users[uname] && users[uname].password === pwd) {
    currentUser = uname;
    sessionStorage.setItem("user", uname); // stays logged in on refresh
    showDashboard();
  } else {
    document.getElementById("loginStatus").innerText = "Invalid credentials.";
  }
}

function logout() {
  currentUser = null;
  sessionStorage.removeItem("user");
  document.getElementById("login").style.display = "block";
  document.getElementById("dashboard").style.display = "none";
}
