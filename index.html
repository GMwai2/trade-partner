<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Universal Wallet Platform</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f4f4f4; }
    #loginForm, #dashboard, #transferSection { display: none; margin-top: 20px; }
    .hidden { display: none; }
    .container { background: white; padding: 20px; border-radius: 8px; max-width: 500px; margin: auto; }
    input, select { width: 100%; padding: 10px; margin: 5px 0 15px 0; border: 1px solid #ccc; border-radius: 4px; }
    button { padding: 10px 15px; background: #28a745; color: white; border: none; cursor: pointer; }
    button:hover { background: #218838; }
    #logoutBtn { background: #dc3545; margin-top: 15px; }
    #logoutBtn:hover { background: #c82333; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Wallet Platform Login</h2>
    <div id="loginForm">
      <input type="text" id="username" placeholder="Username" />
      <input type="password" id="password" placeholder="Password" />
      <button onclick="login()">Login</button>
      <p id="loginError" style="color:red;"></p>
    </div>

    <div id="dashboard">
      <h3>Welcome, <span id="userName"></span>!</h3>
      <p><strong>Wallet ID:</strong> <span id="walletId"></span></p>
      <p><strong>Email:</strong> <span id="email"></span></p>
      <div id="balances"></div>
      <button onclick="showTransfer()">Transfer Money</button>
      <button id="logoutBtn" onclick="logout()">Logout</button>
    </div>

    <div id="transferSection">
      <h4>Transfer Funds</h4>
      <input type="text" id="recipientWallet" placeholder="Recipient Wallet ID" />
      <input type="number" id="amount" placeholder="Amount" />
      <select id="currency">
        <option value="KES">KES</option>
        <option value="USD">USD</option>
        <option value="BTC">BTC</option>
        <option value="ETH">ETH</option>
        <option value="JPY">JPY</option>
      </select>
      <button onclick="transfer()">Send</button>
      <p id="transferMessage"></p>
    </div>
  </div>

  <script>
    const users = {
      kilush: {
        password: "kilush123",
        name: "Kilush",
        walletId: "KLS001",
        balances: { KES: 1000, BTC: 0, USD: 0, ETH: 0, JPY: 0 },
        email: "kilush@example.com"
      },
      schwadz: {
        password: "schwadz123",
        name: "Schwadz",
        walletId: "SCH001",
        balances: { USD: 6.4, KES: 0, BTC: 0, ETH: 0, JPY: 0 },
        email: "mdgakuo2@gmail.com"
      },
      admin: {
        password: "admin123",
        name: "System Admin",
        walletId: "ADM001",
        balances: { KES: 0, USD: 0, BTC: 0, ETH: 0, JPY: 0 },
        email: "mdgakuo3@gmail.com"
      }
    };

    let currentUser = null;

    window.onload = function () {
      document.getElementById("loginForm").style.display = "block";
    };

    function login() {
      const username = document.getElementById("username").value.trim().toLowerCase();
      const password = document.getElementById("password").value;

      if (users[username] && users[username].password === password) {
        currentUser = users[username];
        showDashboard();
      } else {
        document.getElementById("loginError").innerText = "Invalid username or password.";
      }
    }

    function showDashboard() {
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("dashboard").style.display = "block";
      document.getElementById("transferSection").style.display = "none";

      document.getElementById("userName").innerText = currentUser.name;
      document.getElementById("walletId").innerText = currentUser.walletId;
      document.getElementById("email").innerText = currentUser.email;

      const balancesDiv = document.getElementById("balances");
      balancesDiv.innerHTML = "<h4>Balances:</h4>";
      for (let currency in currentUser.balances) {
        balancesDiv.innerHTML += `<p>${currency}: ${currentUser.balances[currency]}</p>`;
      }
    }

    function showTransfer() {
      document.getElementById("transferSection").style.display = "block";
      document.getElementById("transferMessage").innerText = "";
    }

    function transfer() {
      const recipientId = document.getElementById("recipientWallet").value.trim().toUpperCase();
      const amount = parseFloat(document.getElementById("amount").value);
      const currency = document.getElementById("currency").value;
      let recipient = null;

      for (let user in users) {
        if (users[user].walletId === recipientId) {
          recipient = users[user];
          break;
        }
      }

      if (!recipient) {
        document.getElementById("transferMessage").innerText = "Recipient not found.";
        return;
      }

      if (currentUser.balances[currency] >= amount) {
        currentUser.balances[currency] -= amount;
        recipient.balances[currency] += amount;
        document.getElementById("transferMessage").innerText = "Transfer successful!";
        showDashboard();
      } else {
        document.getElementById("transferMessage").innerText = "Insufficient balance.";
      }
    }

    function logout() {
      currentUser = null;
      document.getElementById("dashboard").style.display = "none";
      document.getElementById("transferSection").style.display = "none";
      document.getElementById("loginForm").style.display = "block";
      document.getElementById("username").value = "";
      document.getElementById("password").value = "";
      document.getElementById("loginError").innerText = "";
    }
  </script>
</body>
</html>
